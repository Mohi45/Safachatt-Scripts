<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Java SDET AI Workbook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/basics.css">
    <link rel="stylesheet" href="../css/questions.css">
</head>

<body>
    <header class="site-header">
        <div class="container header-container">
            <div class="logo-container">
                <img src="../images/logo.jpg" class="logo-img" alt="Logo">
                <a href="../index.html" class="logo-text">Safachatt Scripts</a>
            </div>
            <div class="site-title-description">
                <h1>Java Complete Tutorial</h1>
                <p>All-in-One Java Notes for Learning & Revision</p>
            </div>
            <button class="nav-btn" onclick="location.href='admin.html'">Admin Portal</button>
        </div>
    </header>
    <div id="login" style="text-align:center;margin-top:120px">
        <h1>Java SDET AI Workbook</h1>
        <button id="loginBtn">Login with Google</button>
    </div>

    <div id="questions-container" style="display:none;">
        <h1 style="text-align: center;">Welcome, <span id="userName"></span></h1>
        <div style="text-align:center; margin-bottom: 10px;">
            <button onclick="logout()" class="nav-btn">Logout</button>
            <button onclick="clearAll()" class="nav-btn">Clear All</button>
            <button onclick="exportAnswers()" class="nav-btn">Export</button>
        </div>
        <div id="auto-save">Saved âœ“</div>

        <!-- STRING QUESTIONS 1-20 -->
        <h2 style="text-align: center;">ğŸ”¹ STRING QUESTIONS </h2>
        <div class="question-block">
            <p>1. Reverse a string</p>
            <div class="input-output">Input: "SDET" â†’ Output: "TEDS"</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>2. Check palindrome</p>
            <div class="input-output">Input: "level" â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>3. First non-repeating character</p>
            <div class="input-output">Input: "aabbcdde" â†’ Output: 'c'</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>4. Remove duplicates</p>
            <div class="input-output">Input: "programming" â†’ Output: "progamin"</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>5. Count character frequency</p>
            <div class="input-output">Input: "automation" â†’ Output: {a=2, u=1, t=2, â€¦}</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>6. Check anagram</p>
            <div class="input-output">Input: "listen","silent" â†’ Output: true</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>7. Reverse words</p>
            <div class="input-output">Input: "I love Java" â†’ Output: "Java love I"</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>8. Largest word in sentence</p>
            <div class="input-output">Input: "SDET interviews are fun" â†’ Output: "interviews"</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>9. Count vowels + consonants</p>
            <div class="input-output">Input: "Java QA" â†’ Output: Vowels=3, Consonants=3</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>10. Shortest word length</p>
            <div class="input-output">Input: "I love coding" â†’ Output: 1</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>11. Check if string contains only digits</p>
            <div class="input-output">Input: "12345" â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>12. Replace spaces with %20</p>
            <div class="input-output">Input: "Hello World" â†’ Output: "Hello%20World"</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>13. Permutation of palindrome?</p>
            <div class="input-output">Input: "carrace" â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>14. Longest substring without repeat</p>
            <div class="input-output">Input: "abcabcbb" â†’ Output: 3</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>15. Count subsequences of â€œabcâ€</p>
            <div class="input-output">Input: "abcabc" â†’ Output: 4</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>16. Check rotation</p>
            <div class="input-output">Input: "abcde","cdeab" â†’ Output: true</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>17. Minimum insertions for palindrome</p>
            <div class="input-output">Input: "abcda" â†’ Output: 2</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>18. Valid number (digits + decimal)</p>
            <div class="input-output">Input: "12.34" â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>19. Count Palindromic substrings</p>
            <div class="input-output">Input: "aaa" â†’ Output: 6</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>20. Encode string counts</p>
            <div class="input-output">Input: "aaabb" â†’ Output: "a3b2"</div><textarea class="answer-box"></textarea>
        </div>

        <!-- ARRAY QUESTIONS 21-25 -->
        <h2 style="text-align: center;">ğŸ”¹ ARRAY QUESTIONS</h2>
        <div class="question-block">
            <p>21. Find duplicates</p>
            <div class="input-output">Input: [1,2,3,2,1] â†’ Output: [1,2]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>22. Missing number (1â€“N)</p>
            <div class="input-output">Input: [1,2,4,5] â†’ Output: 3</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>23. Move zeros to end</p>
            <div class="input-output">Input: [0,1,0,3,12] â†’ Output: [1,3,12,0,0]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>24. Second largest number</p>
            <div class="input-output">Input: [5,3,9,1] â†’ Output: 5</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>25. Sort array without sort()</p>
            <div class="input-output">Input: [4,2,1,3] â†’ Output: [1,2,3,4]</div><textarea class="answer-box"></textarea>
        </div>
        <!-- ARRAY QUESTIONS 26-35 -->
        <h2 style="text-align: center;">ğŸ”¹ ARRAY QUESTIONS </h2>
        <div class="question-block">
            <p>26. Maximum subarray sum</p>
            <div class="input-output">Input: [-2,1,-3,4,-1,2,1,-5,4] â†’ Output: 6</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>27. Rotate array by k</p>
            <div class="input-output">Input: [1,2,3,4,5], k=2 â†’ Output: [4,5,1,2,3]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>28. Intersection of arrays</p>
            <div class="input-output">Input: [1,2,2,3],[2,2] â†’ Output: [2,2]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>29. Pair sum equals target</p>
            <div class="input-output">Input: [1,3,2,4], target=5 â†’ Output: [[1,4],[3,2]]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>30. Longest consecutive sequence</p>
            <div class="input-output">Input: [100,4,200,1,3,2] â†’ Output: 4</div><textarea class="answer-box"></textarea>
        </div>

        <!-- LIST QUESTIONS 31-40 -->
        <h2 style="text-align: center;">ğŸ”¹ LIST QUESTIONS </h2>
        <div class="question-block">
            <p>31. Reverse a list</p>
            <div class="input-output">Input: [1,2,3,4] â†’ Output: [4,3,2,1]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>32. Remove duplicates from list</p>
            <div class="input-output">Input: [1,2,2,3] â†’ Output: [1,2,3]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>33. Merge two sorted lists</p>
            <div class="input-output">Input: [1,3,5],[2,4,6] â†’ Output: [1,2,3,4,5,6]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>34. Find middle element of list</p>
            <div class="input-output">Input: [1,2,3,4,5] â†’ Output: 3</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>35. Remove nth node from end</p>
            <div class="input-output">Input: [1,2,3,4,5], n=2 â†’ Output: [1,2,3,5]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>36. Check palindrome list</p>
            <div class="input-output">Input: [1,2,2,1] â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>37. Detect cycle in list</p>
            <div class="input-output">Input: 1â†’2â†’3â†’1 â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>38. Merge overlapping intervals</p>
            <div class="input-output">Input: [[1,3],[2,6],[8,10]] â†’ Output: [[1,6],[8,10]]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>39. Remove duplicates from sorted list</p>
            <div class="input-output">Input: [1,1,2] â†’ Output: [1,2]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>40. Rotate list by k</p>
            <div class="input-output">Input: [1,2,3,4,5], k=2 â†’ Output: [4,5,1,2,3]</div><textarea
                class="answer-box"></textarea>
        </div>

        <!-- MAP / DICTIONARY QUESTIONS 41-50 -->
        <h2 style="text-align: center;">ğŸ”¹ MAP / DICTIONARY QUESTIONS </h2>
        <div class="question-block">
            <p>41. Count word frequency</p>
            <div class="input-output">Input: ["Java","QA","Java"] â†’ Output: {Java=2, QA=1}</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>42. Find key with max value</p>
            <div class="input-output">Input: {a=2,b=5,c=3} â†’ Output: b</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>43. Merge two maps</p>
            <div class="input-output">Input: {a=1,b=2},{b=3,c=4} â†’ Output: {a=1,b=3,c=4}</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>44. Check if map contains value</p>
            <div class="input-output">Input: {a=1,b=2}, value=2 â†’ Output: true</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>45. Group anagrams</p>
            <div class="input-output">Input: ["eat","tea","tan","ate"] â†’ Output: [["eat","tea","ate"],["tan"]]</div>
            <textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>46. Top K frequent elements</p>
            <div class="input-output">Input: [1,1,1,2,2,3], k=2 â†’ Output: [1,2]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>47. Sort map by values</p>
            <div class="input-output">Input: {a=3,b=1,c=2} â†’ Output: {b=1,c=2,a=3}</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>48. Find duplicate keys</p>
            <div class="input-output">Input: [{a:1},{a:2}] â†’ Output: a</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>49. Invert map (swap keys & values)</p>
            <div class="input-output">Input: {a=1,b=2} â†’ Output: {1=a,2=b}</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>50. Check subset of keys</p>
            <div class="input-output">Input: keys1=[a,b], keys2=[a,b,c] â†’ Output: true</div><textarea
                class="answer-box"></textarea>
        </div>
        <!-- STACK QUESTIONS 51-60 -->
        <h2 style="text-align: center;">ğŸ”¹ STACK QUESTIONS </h2>
        <div class="question-block">
            <p>51. Implement stack using array</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>52. Implement stack using linked list</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>53. Evaluate postfix expression</p>
            <div class="input-output">Input: ["2","3","+","4","*"] â†’ Output: 20</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>54. Valid parentheses</p>
            <div class="input-output">Input: "({[]})" â†’ Output: true</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>55. Min stack (getMin in O(1))</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>56. Reverse a stack</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>57. Next greater element</p>
            <div class="input-output">Input: [4,5,2,10] â†’ Output: [5,10,10,-1]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>58. Sort a stack</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>59. Largest rectangle in histogram</p>
            <div class="input-output">Input: [2,1,5,6,2,3] â†’ Output: 10</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>60. Evaluate infix expression</p>
            <div class="input-output">Input: "2 + 3 * 4" â†’ Output: 14</div><textarea class="answer-box"></textarea>
        </div>

        <!-- QUEUE QUESTIONS 61-70 -->
        <h2 style="text-align: center;">ğŸ”¹ QUEUE QUESTIONS </h2>
        <div class="question-block">
            <p>61. Implement queue using array</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>62. Implement queue using linked list</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>63. Circular queue implementation</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>64. Priority queue implementation</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>65. Sliding window maximum</p>
            <div class="input-output">Input: [1,3,-1,-3,5,3,6,7], k=3 â†’ Output: [3,3,5,5,6,7]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>66. Rotting oranges (BFS)</p>
            <div class="input-output">Input: [[2,1,1],[1,1,0],[0,1,1]] â†’ Output: 4</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>67. Recent counter</p>
            <div class="input-output">Input: [1,2,3,300,3000,3001] â†’ Output: [1,2,3,4,5,5]</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>68. Implement deque</p><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>69. First non-repeating character in stream</p>
            <div class="input-output">Input: "aabc" â†’ Output: [a,a,b,c]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>70. Minimum time to complete tasks (task scheduler)</p>
            <div class="input-output">Input: ["A","A","A","B","B","B"], n=2 â†’ Output: 8</div><textarea
                class="answer-box"></textarea>
        </div>

        <!-- RECURSION QUESTIONS 71-75 -->
        <h2 style="text-align: center;">ğŸ”¹ RECURSION QUESTIONS </h2>
        <div class="question-block">
            <p>71. Factorial of n</p>
            <div class="input-output">Input: 5 â†’ Output: 120</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>72. Fibonacci sequence (nth term)</p>
            <div class="input-output">Input: 7 â†’ Output: 13</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>73. Sum of digits</p>
            <div class="input-output">Input: 1234 â†’ Output: 10</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>74. Tower of Hanoi (n disks)</p>
            <div class="input-output">Input: 3 â†’ Output: Move disks from Aâ†’C using B</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>75. Reverse a string using recursion</p>
            <div class="input-output">Input: "hello" â†’ Output: "olleh"</div><textarea class="answer-box"></textarea>
        </div>
        <!-- TREE QUESTIONS 76-85 -->
        <h2 style="text-align: center;">ğŸ”¹ TREE QUESTIONS </h2>
        <div class="question-block">
            <p>76. Inorder traversal of binary tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: list</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>77. Preorder traversal of binary tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: list</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>78. Postorder traversal of binary tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: list</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>79. Level order traversal of binary tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: list of lists</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>80. Check if BST</p>
            <div class="input-output">Input: Binary Tree â†’ Output: true/false</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>81. Lowest common ancestor</p>
            <div class="input-output">Input: Binary Tree, nodes â†’ Output: LCA node</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>82. Max depth of tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: integer</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>83. Min depth of tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: integer</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>84. Serialize and deserialize binary tree</p>
            <div class="input-output">Input: Binary Tree â†’ Output: serialized string / restore tree</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>85. Flatten binary tree to linked list</p>
            <div class="input-output">Input: Binary Tree â†’ Output: flattened list</div><textarea
                class="answer-box"></textarea>
        </div>

        <!-- GRAPH QUESTIONS 86-90 -->
        <h2 style="text-align: center;">ğŸ”¹ GRAPH QUESTIONS </h2>
        <div class="question-block">
            <p>86. BFS traversal</p>
            <div class="input-output">Input: Graph, start node â†’ Output: visited order</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>87. DFS traversal</p>
            <div class="input-output">Input: Graph, start node â†’ Output: visited order</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>88. Detect cycle in directed graph</p>
            <div class="input-output">Input: Graph â†’ Output: true/false</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>89. Shortest path (Dijkstra)</p>
            <div class="input-output">Input: Weighted Graph, start node â†’ Output: shortest distances</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>90. Topological sort</p>
            <div class="input-output">Input: DAG â†’ Output: sorted list</div><textarea class="answer-box"></textarea>
        </div>

        <!-- DYNAMIC PROGRAMMING QUESTIONS 91-95 -->
        <h2 style="text-align: center;">ğŸ”¹ DYNAMIC PROGRAMMING QUESTIONS </h2>
        <div class="question-block">
            <p>91. Fibonacci using DP</p>
            <div class="input-output">Input: n=10 â†’ Output: 55</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>92. Longest increasing subsequence</p>
            <div class="input-output">Input: [10,9,2,5,3,7,101,18] â†’ Output: 4</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>93. Minimum path sum in grid</p>
            <div class="input-output">Input: [[1,3,1],[1,5,1],[4,2,1]] â†’ Output: 7</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>94. 0/1 Knapsack problem</p>
            <div class="input-output">Input: weights, values, W â†’ Output: max value</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>95. Coin change problem</p>
            <div class="input-output">Input: coins=[1,2,5], amount=11 â†’ Output: 3</div><textarea
                class="answer-box"></textarea>
        </div>

        <!-- MISC / LOGIC QUESTIONS 96-100 -->
        <h2 style="text-align: center;">ğŸ”¹ MISC / LOGIC QUESTIONS</h2>
        <div class="question-block">
            <p>96. Trapping rain water</p>
            <div class="input-output">Input: [0,1,0,2,1,0,1,3,2,1,2,1] â†’ Output: 6</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>97. Next permutation</p>
            <div class="input-output">Input: [1,2,3] â†’ Output: [1,3,2]</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>98. Minimum window substring</p>
            <div class="input-output">Input: "ADOBECODEBANC","ABC" â†’ Output: "BANC"</div><textarea
                class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>99. Largest rectangle in histogram</p>
            <div class="input-output">Input: [2,1,5,6,2,3] â†’ Output: 10</div><textarea class="answer-box"></textarea>
        </div>
        <div class="question-block">
            <p>100. Longest valid parentheses</p>
            <div class="input-output">Input: "(()" â†’ Output: 2</div><textarea class="answer-box"></textarea>
        </div>
        <!-- Footer -->
        <footer class="site-footer">
            <div class="container">
                <p>&copy; 2026 Safachatt Scripts. All Rights Reserved.</p>
                <p>Email: mjsafachattgroup@gmail.com | Phone: +91-9625290733</p>
            </div>
        </footer>


        <!-- Firebase code stays untouched -->
        <script type="module">
            // Firebase imports
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
            import {
                getAuth,
                GoogleAuthProvider,
                signInWithPopup,
                signInWithRedirect,
                onAuthStateChanged,
                signOut,
                setPersistence,
                browserLocalPersistence
            } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

            import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

            // Firebase config
            const firebaseConfig = {
                apiKey: "AIzaSyAVehMiV55ntnSUuWjclQNfJbr8PeCwgt4",
                authDomain: "safachatt-scripts.firebaseapp.com",
                databaseURL: "https://safachatt-scripts-default-rtdb.firebaseio.com",
                projectId: "safachatt-scripts",
                storageBucket: "safachatt-scripts.firebasestorage.app",
                messagingSenderId: "737742037568",
                appId: "1:737742037568:web:d7d487121e3e06d87cb5a5"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const auth = getAuth(app);
            const db = getDatabase(app);
            const provider = new GoogleAuthProvider();
            let currentUser = null;

            async function initAuth() {
                try {
                    await setPersistence(auth, browserLocalPersistence);
                } catch (err) {
                    console.error("Failed to set persistence:", err);
                }
            }
            initAuth();

            document.getElementById("loginBtn")?.addEventListener("click", async () => {
                try {
                    await signInWithPopup(auth, provider);
                } catch (err) {
                    console.warn("Popup failed, falling back to redirect:", err.code);
                    signInWithRedirect(auth, provider);
                }
            });

            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    currentUser = user;
                    document.getElementById("login").style.display = "none";
                    document.getElementById("questions-container").style.display = "block";
                    document.getElementById("userName").innerText = user.displayName || "User";
                    await loadAnswers();
                } else {
                    currentUser = null;
                    document.getElementById("login").style.display = "block";
                    document.getElementById("questions-container").style.display = "none";
                }
            });

            async function saveAnswers() {
                if (!currentUser) return;

                const answers = {};
                document.querySelectorAll(".answer-box").forEach((box, i) => {
                    answers["Q" + (i + 1)] = box.value;
                });

                await set(ref(db, "answers/" + currentUser.uid), {
                    name: currentUser.displayName || "Unknown User",
                    email: currentUser.email || "",
                    ...answers,
                    lastUpdated: Date.now()
                });
            }

            async function loadAnswers() {
                if (!currentUser) return;
                const snap = await get(ref(db, "answers/" + currentUser.uid));
                if (!snap.exists()) return;
                const data = snap.val();
                document.querySelectorAll(".answer-box").forEach((box, i) => {
                    box.value = data["Q" + (i + 1)] || "";
                });
            }

            document.addEventListener("input", (e) => {
                const target = e.target;
                if (target.classList.contains("answer-box")) {
                    saveAnswers();
                }
            });

            window.clearAll = async () => {
                document.querySelectorAll(".answer-box").forEach(b => b.value = "");
                await saveAnswers();
            };

            window.exportAnswers = () => {
                const data = {};
                document.querySelectorAll(".answer-box").forEach((b, i) => {
                    data["Q" + (i + 1)] = b.value;
                });
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
                const a = document.createElement("a");
                a.href = URL.createObjectURL(blob);
                a.download = "answers.json";
                a.click();
            };

            window.logout = async () => {
                await signOut(auth);
            };

        </script>

</body>

</html>